# 公司管理功能測試計劃

## 測試環境

- **URL**: http://localhost:3168
- **測試日期**: 2025-10-31
- **Next.js版本**: 16.0.0 (Turbopack)

## 前置條件

1. ✅ 開發服務器已啟動於 http://localhost:3168
2. ⏳ 需要登入帳號進行測試
3. ✅ Chrome DevTools 已開啟 (Cmd+Option+I)

## 測試項目

### 1. 頁面載入測試

#### 測試步驟：

1. 訪問 `/dashboard/companies`
2. 檢查 Console 是否有錯誤
3. 檢查 Network 面板的 API 請求

#### 預期結果：

- ✅ 頁面成功渲染
- ✅ 無 JavaScript 錯誤
- ✅ API 請求成功 (200 OK)
- ✅ 公司列表正確顯示

#### 實際結果：

- Status: ⏳ 待測試
- Notes:

---

### 2. 創建公司功能

#### 測試步驟：

1. 點擊 "新增公司" 按鈕
2. 填寫公司名稱和訂閱方案
3. 提交表單
4. 檢查 Network 面板的 POST 請求
5. 確認公司列表已更新

#### 預期結果：

- Dialog 正確打開
- 表單驗證正常運作
- API 請求成功 (POST /api/companies)
- 新公司出現在列表中
- 自動跳轉至公司詳情頁面

#### 實際結果：

- Status: ⏳ 待測試
- Notes:

---

### 3. 查看公司詳情

#### 測試步驟：

1. 點擊任一公司卡片
2. 檢查詳情頁面內容
3. 驗證成員列表顯示

#### 預期結果：

- 正確顯示公司資訊
- 成員列表載入成功
- 權限角色正確顯示

#### 實際結果：

- Status: ⏳ 待測試
- Notes:

---

### 4. 邀請成員功能

#### 測試步驟：

1. 在公司詳情頁點擊 "邀請成員"
2. 輸入電子郵件和選擇角色
3. 提交邀請
4. 檢查 API 請求和回應

#### 預期結果：

- Dialog 正確打開
- 角色選擇器 (Select) 正常運作
- API 請求成功 (POST /api/companies/{id}/members)
- 成員列表更新

#### 實際結果：

- Status: ⏳ 待測試
- Notes:

---

### 5. 變更成員角色

#### 測試步驟：

1. 在成員列表中找到一個成員
2. 點擊角色下拉選單
3. 選擇新角色
4. 確認變更

#### 預期結果：

- 角色選擇器正確顯示當前角色
- 可選擇的角色根據權限限制
- API 請求成功 (PATCH /api/companies/{id}/members/{memberId})
- 角色立即更新

#### 實際結果：

- Status: ⏳ 待測試
- Notes:

---

### 6. 移除成員功能

#### 測試步驟：

1. 點擊成員的移除按鈕
2. 確認 AlertDialog 顯示
3. 確認移除操作

#### 預期結果：

- AlertDialog 正確顯示警告訊息
- API 請求成功 (DELETE /api/companies/{id}/members/{memberId})
- 成員從列表中消失
- Toast 通知顯示成功訊息

#### 實際結果：

- Status: ⏳ 待測試
- Notes:

---

### 7. 刪除公司功能

#### 測試步驟：

1. 在公司詳情頁點擊 "刪除公司"
2. 在 AlertDialog 中輸入公司名稱確認
3. 確認刪除

#### 預期結果：

- AlertDialog 顯示危險警告
- 需要輸入公司名稱才能刪除
- API 請求成功 (DELETE /api/companies/{id})
- 重定向回公司列表
- 公司不再出現在列表中

#### 實際結果：

- Status: ⏳ 待測試
- Notes:

---

### 8. 權限控制測試

#### 測試步驟：

1. 以不同角色登入測試
2. 驗證功能按鈕的顯示/隱藏
3. 嘗試執行未授權操作

#### 預期結果：

- **Owner**: 可執行所有操作
- **Admin**: 可管理成員但不能刪除公司
- **Editor**: 可編輯內容但不能管理成員
- **Writer**: 可創建內容
- **Viewer**: 只能查看

#### 實際結果：

- Status: ⏳ 待測試
- Notes:

---

## Chrome DevTools 檢查清單

### Console 面板

- [ ] 無 JavaScript 錯誤
- [ ] 無未捕獲的 Promise rejection
- [ ] 無警告訊息
- [ ] API 回應正確記錄

### Network 面板

- [ ] 所有 API 請求返回 2xx 狀態碼
- [ ] 請求 payload 格式正確
- [ ] 回應資料結構正確
- [ ] 無失敗的資源載入

### Elements 面板

- [ ] UI 組件正確渲染
- [ ] AlertDialog 正確顯示
- [ ] Dialog 正確顯示
- [ ] Select 下拉選單正確運作
- [ ] CSS 樣式無異常

### Performance 面板

- [ ] 頁面載入時間 < 3秒
- [ ] API 請求回應時間 < 500ms
- [ ] 無記憶體洩漏

---

## 已知問題

### 已修復

1. ✅ TypeScript 類型錯誤 - 已修復所有錯誤
2. ✅ 缺少 UI 組件 (AlertDialog, Dialog, Select) - 已創建
3. ✅ ParallelOrchestrator 導入錯誤 - 已修正

### 待修復

1. ⚠️ JSX namespace 錯誤 - 存在於現有代碼中（與公司管理功能無關）
2. ⚠️ Next.js workspace root 警告 - 可忽略

---

## 測試結果摘要

**測試日期**: ****\_\_\_\_****

**測試人員**: ****\_\_\_\_****

**通過/失敗**: **\_** / **\_**

**總體評估**: ⏳ 待測試

---

## 下一步行動

1. ⏳ 登入系統進行功能測試
2. ⏳ 執行所有測試項目
3. ⏳ 記錄發現的問題
4. ⏳ 修復任何錯誤
5. ⏳ 重新測試直到所有功能正常

---

## 附註

- 使用 Chrome DevTools 監控所有操作
- 記錄任何異常行為
- 截圖記錄重要步驟
- 測試不同瀏覽器相容性（可選）
