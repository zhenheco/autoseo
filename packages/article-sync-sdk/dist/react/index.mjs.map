{"version":3,"sources":["../../src/react/hooks/useArticles.ts","../../src/core/client.ts","../../src/react/hooks/useArticle.ts"],"sourcesContent":["/**\n * useArticles Hook\n * 用於在 React 組件中取得文章列表\n */\n\n\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { SyncClient } from \"../../core/client\";\nimport type {\n  SyncClientConfig,\n  UseArticlesOptions,\n  UseArticlesResult,\n  SyncedArticleListItem,\n} from \"../../core/types\";\n\n/**\n * useArticles Hook\n *\n * @example\n * ```tsx\n * const { articles, isLoading, error } = useArticles(config, {\n *   limit: 10,\n *   language: 'zh-TW',\n * });\n * ```\n */\nexport function useArticles(\n  config: SyncClientConfig,\n  options: UseArticlesOptions = {}\n): UseArticlesResult {\n  const {\n    limit = 10,\n    offset = 0,\n    language,\n    category,\n    tag,\n    sortBy = \"published_at\",\n    sortOrder = \"desc\",\n    enabled = true,\n  } = options;\n\n  const [articles, setArticles] = useState<SyncedArticleListItem[]>([]);\n  const [total, setTotal] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n  const [hasMore, setHasMore] = useState(false);\n\n  const fetchArticles = useCallback(async () => {\n    if (!enabled) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const client = new SyncClient(config);\n      const response = await client.getArticles({\n        limit,\n        offset,\n        language,\n        category,\n        tag,\n        sortBy,\n        sortOrder,\n      });\n\n      setArticles(response.articles);\n      setTotal(response.total);\n      setHasMore(response.hasMore);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error(\"Unknown error\"));\n    } finally {\n      setIsLoading(false);\n    }\n  }, [\n    config.supabaseUrl,\n    config.supabaseKey,\n    config.tableName,\n    limit,\n    offset,\n    language,\n    category,\n    tag,\n    sortBy,\n    sortOrder,\n    enabled,\n  ]);\n\n  useEffect(() => {\n    fetchArticles();\n  }, [fetchArticles]);\n\n  return {\n    articles,\n    total,\n    isLoading,\n    error,\n    hasMore,\n    refetch: fetchArticles,\n  };\n}\n","/**\n * SyncClient\n * 用於查詢同步到本地的文章\n */\n\nimport { createClient, SupabaseClient } from \"@supabase/supabase-js\";\nimport type {\n  SyncClientConfig,\n  GetArticlesOptions,\n  GetArticlesResponse,\n  GetArticleResponse,\n  SyncedArticle,\n  SyncedArticleListItem,\n} from \"./types\";\n\nconst DEFAULT_TABLE_NAME = \"synced_articles\";\nconst DEFAULT_LIMIT = 10;\n\n/**\n * SyncClient 類別\n * 提供文章查詢功能\n */\nexport class SyncClient {\n  private supabase: SupabaseClient;\n  private tableName: string;\n\n  constructor(config: SyncClientConfig) {\n    this.tableName = config.tableName || DEFAULT_TABLE_NAME;\n    this.supabase = createClient(config.supabaseUrl, config.supabaseKey);\n  }\n\n  /**\n   * 取得文章列表\n   */\n  async getArticles(\n    options: GetArticlesOptions = {}\n  ): Promise<GetArticlesResponse> {\n    const {\n      limit = DEFAULT_LIMIT,\n      offset = 0,\n      language,\n      category,\n      tag,\n      sortBy = \"published_at\",\n      sortOrder = \"desc\",\n    } = options;\n\n    // 建立查詢\n    let query = this.supabase\n      .from(this.tableName)\n      .select(\n        `\n        id,\n        slug,\n        title,\n        excerpt,\n        featured_image_url,\n        categories,\n        tags,\n        language,\n        reading_time,\n        published_at\n      `,\n        { count: \"exact\" }\n      )\n      .eq(\"sync_status\", \"active\");\n\n    // 篩選條件\n    if (language) {\n      query = query.eq(\"language\", language);\n    }\n\n    if (category) {\n      query = query.contains(\"categories\", [category]);\n    }\n\n    if (tag) {\n      query = query.contains(\"tags\", [tag]);\n    }\n\n    // 排序\n    query = query.order(sortBy, { ascending: sortOrder === \"asc\" });\n\n    // 分頁\n    query = query.range(offset, offset + limit - 1);\n\n    const { data, error, count } = await query;\n\n    if (error) {\n      throw new Error(`Failed to fetch articles: ${error.message}`);\n    }\n\n    const total = count || 0;\n    const hasMore = offset + limit < total;\n\n    return {\n      articles: (data || []) as SyncedArticleListItem[],\n      total,\n      hasMore,\n    };\n  }\n\n  /**\n   * 根據 slug 取得單篇文章\n   */\n  async getArticleBySlug(slug: string): Promise<GetArticleResponse> {\n    const { data, error } = await this.supabase\n      .from(this.tableName)\n      .select(\"*\")\n      .eq(\"slug\", slug)\n      .eq(\"sync_status\", \"active\")\n      .single();\n\n    if (error) {\n      if (error.code === \"PGRST116\") {\n        // 找不到資料\n        return { article: null };\n      }\n      throw new Error(`Failed to fetch article: ${error.message}`);\n    }\n\n    return { article: data as SyncedArticle };\n  }\n\n  /**\n   * 根據 source_id 取得單篇文章\n   */\n  async getArticleBySourceId(sourceId: string): Promise<GetArticleResponse> {\n    const { data, error } = await this.supabase\n      .from(this.tableName)\n      .select(\"*\")\n      .eq(\"source_id\", sourceId)\n      .eq(\"sync_status\", \"active\")\n      .single();\n\n    if (error) {\n      if (error.code === \"PGRST116\") {\n        return { article: null };\n      }\n      throw new Error(`Failed to fetch article: ${error.message}`);\n    }\n\n    return { article: data as SyncedArticle };\n  }\n\n  /**\n   * 取得所有分類\n   */\n  async getCategories(): Promise<string[]> {\n    const { data, error } = await this.supabase\n      .from(this.tableName)\n      .select(\"categories\")\n      .eq(\"sync_status\", \"active\");\n\n    if (error) {\n      throw new Error(`Failed to fetch categories: ${error.message}`);\n    }\n\n    // 合併所有分類並去重\n    const allCategories = new Set<string>();\n    for (const row of data || []) {\n      for (const cat of row.categories || []) {\n        allCategories.add(cat);\n      }\n    }\n\n    return Array.from(allCategories).sort();\n  }\n\n  /**\n   * 取得所有標籤\n   */\n  async getTags(): Promise<string[]> {\n    const { data, error } = await this.supabase\n      .from(this.tableName)\n      .select(\"tags\")\n      .eq(\"sync_status\", \"active\");\n\n    if (error) {\n      throw new Error(`Failed to fetch tags: ${error.message}`);\n    }\n\n    // 合併所有標籤並去重\n    const allTags = new Set<string>();\n    for (const row of data || []) {\n      for (const tag of row.tags || []) {\n        allTags.add(tag);\n      }\n    }\n\n    return Array.from(allTags).sort();\n  }\n\n  /**\n   * 取得相關文章\n   */\n  async getRelatedArticles(\n    articleId: string,\n    limit: number = 4\n  ): Promise<SyncedArticleListItem[]> {\n    // 先取得目標文章的分類和標籤\n    const { data: targetArticle, error: fetchError } = await this.supabase\n      .from(this.tableName)\n      .select(\"categories, tags\")\n      .eq(\"id\", articleId)\n      .single();\n\n    if (fetchError || !targetArticle) {\n      return [];\n    }\n\n    const categories = targetArticle.categories || [];\n    const tags = targetArticle.tags || [];\n\n    // 查詢有相同分類或標籤的文章\n    let query = this.supabase\n      .from(this.tableName)\n      .select(\n        `\n        id,\n        slug,\n        title,\n        excerpt,\n        featured_image_url,\n        categories,\n        tags,\n        language,\n        reading_time,\n        published_at\n      `\n      )\n      .eq(\"sync_status\", \"active\")\n      .neq(\"id\", articleId);\n\n    // 有分類或標籤時篩選相關文章\n    if (categories.length > 0 || tags.length > 0) {\n      // 優先使用分類篩選，如果沒有分類則使用標籤\n      if (categories.length > 0) {\n        query = query.overlaps(\"categories\", categories);\n      } else if (tags.length > 0) {\n        query = query.overlaps(\"tags\", tags);\n      }\n    }\n\n    query = query\n      .order(\"published_at\", { ascending: false })\n      .limit(limit);\n\n    const { data, error } = await query;\n\n    if (error) {\n      console.error(\"[SyncClient] Failed to fetch related articles:\", error);\n      return [];\n    }\n\n    return (data || []) as SyncedArticleListItem[];\n  }\n\n  /**\n   * 搜尋文章\n   */\n  async searchArticles(\n    query: string,\n    options: GetArticlesOptions = {}\n  ): Promise<GetArticlesResponse> {\n    const { limit = DEFAULT_LIMIT, offset = 0, language } = options;\n\n    // 使用 ilike 進行簡單的文字搜尋\n    // 注意：對於大規模搜尋，建議使用 Supabase 的 Full Text Search\n    let dbQuery = this.supabase\n      .from(this.tableName)\n      .select(\n        `\n        id,\n        slug,\n        title,\n        excerpt,\n        featured_image_url,\n        categories,\n        tags,\n        language,\n        reading_time,\n        published_at\n      `,\n        { count: \"exact\" }\n      )\n      .eq(\"sync_status\", \"active\")\n      .or(`title.ilike.%${query}%,excerpt.ilike.%${query}%`);\n\n    if (language) {\n      dbQuery = dbQuery.eq(\"language\", language);\n    }\n\n    dbQuery = dbQuery\n      .order(\"published_at\", { ascending: false })\n      .range(offset, offset + limit - 1);\n\n    const { data, error, count } = await dbQuery;\n\n    if (error) {\n      throw new Error(`Failed to search articles: ${error.message}`);\n    }\n\n    const total = count || 0;\n    const hasMore = offset + limit < total;\n\n    return {\n      articles: (data || []) as SyncedArticleListItem[],\n      total,\n      hasMore,\n    };\n  }\n\n  /**\n   * 取得文章數量\n   */\n  async getArticleCount(language?: string): Promise<number> {\n    let query = this.supabase\n      .from(this.tableName)\n      .select(\"*\", { count: \"exact\", head: true })\n      .eq(\"sync_status\", \"active\");\n\n    if (language) {\n      query = query.eq(\"language\", language);\n    }\n\n    const { count, error } = await query;\n\n    if (error) {\n      throw new Error(`Failed to count articles: ${error.message}`);\n    }\n\n    return count || 0;\n  }\n}\n\n/**\n * 建立 SyncClient 實例\n */\nexport function createSyncClient(config: SyncClientConfig): SyncClient {\n  return new SyncClient(config);\n}\n","/**\n * useArticle Hook\n * 用於在 React 組件中取得單篇文章\n */\n\n\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { SyncClient } from \"../../core/client\";\nimport type {\n  SyncClientConfig,\n  UseArticleOptions,\n  UseArticleResult,\n  SyncedArticle,\n} from \"../../core/types\";\n\n/**\n * useArticle Hook\n *\n * @example\n * ```tsx\n * const { article, isLoading, error } = useArticle(config, slug);\n * ```\n */\nexport function useArticle(\n  config: SyncClientConfig,\n  slug: string,\n  options: UseArticleOptions = {}\n): UseArticleResult {\n  const { enabled = true } = options;\n\n  const [article, setArticle] = useState<SyncedArticle | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n\n  const fetchArticle = useCallback(async () => {\n    if (!enabled || !slug) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const client = new SyncClient(config);\n      const response = await client.getArticleBySlug(slug);\n      setArticle(response.article);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error(\"Unknown error\"));\n    } finally {\n      setIsLoading(false);\n    }\n  }, [\n    config.supabaseUrl,\n    config.supabaseKey,\n    config.tableName,\n    slug,\n    enabled,\n  ]);\n\n  useEffect(() => {\n    fetchArticle();\n  }, [fetchArticle]);\n\n  return {\n    article,\n    isLoading,\n    error,\n    refetch: fetchArticle,\n  };\n}\n\n/**\n * useArticleBySourceId Hook\n *\n * @example\n * ```tsx\n * const { article, isLoading, error } = useArticleBySourceId(config, sourceId);\n * ```\n */\nexport function useArticleBySourceId(\n  config: SyncClientConfig,\n  sourceId: string,\n  options: UseArticleOptions = {}\n): UseArticleResult {\n  const { enabled = true } = options;\n\n  const [article, setArticle] = useState<SyncedArticle | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n\n  const fetchArticle = useCallback(async () => {\n    if (!enabled || !sourceId) return;\n\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const client = new SyncClient(config);\n      const response = await client.getArticleBySourceId(sourceId);\n      setArticle(response.article);\n    } catch (err) {\n      setError(err instanceof Error ? err : new Error(\"Unknown error\"));\n    } finally {\n      setIsLoading(false);\n    }\n  }, [\n    config.supabaseUrl,\n    config.supabaseKey,\n    config.tableName,\n    sourceId,\n    enabled,\n  ]);\n\n  useEffect(() => {\n    fetchArticle();\n  }, [fetchArticle]);\n\n  return {\n    article,\n    isLoading,\n    error,\n    refetch: fetchArticle,\n  };\n}\n"],"mappings":"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","names":["useState","useEffect","useCallback","useState","useCallback","useEffect"]}